/* ============================================================================
 *  STEP-6  ·  Hoja completa adaptada al markup con
 *  <div class="row gx-3 cards-grid"> + .col-*
 *  Fecha: 2025-06-26
 * ----------------------------------------------------------------------------
 *  ✔ Mantiene compatibilidad con Bootstrap 5
 *  ✔ Convierte .cards-grid.row en una grilla CSS real
 *  ✔ Anula los width/ flex de .col-* dentro de la grilla
 *  ✔ Todos los textos “gris” = #e5e7eb (casi blanco)
 * ==========================================================================*/

/* --------------------------------------------------------------------------
   1) Variables de color y radios
   --------------------------------------------------------------------------*/
:root {
  --step6-accent:            var(--accent-color);
  --step6-bg-card:           var(--bg-card);
  --step6-border:            var(--border-color);
  --step6-radius:            var(--border-radius-xxl);

  /* texto secundario ultra-claro */
  --step6-text-sec:          #e5e7eb;
}

[data-theme='dark'] {
  --step6-accent:            #7fdcff;
  --step6-bg-card:           #161b22;
  --step6-border:            #2c2f33;
  --step6-radius:            var(--border-radius-xxl);
  --step6-text-sec:          #e5e7eb;
}

/* --------------------------------------------------------------------------
   2) Convierto .cards-grid.row en display:grid
   --------------------------------------------------------------------------*/
.cards-grid.row {
  /* override Bootstrap “.row {display:flex;}” */
  display: grid !important;

  /* rejilla fluida: mínimo 22 rem, luego 1fr */
  grid-template-columns: repeat(auto-fit, minmax(22rem, 1fr));

  /* gap armónico (respeta .gx-3 si querés) */
  gap: clamp(0.75rem, 2vw, 1rem);

  /* elimino los márgenes negativos que Bootstrap mete al .row */
  --bs-gutter-x: 0;
  margin-left: 0 !important;
  margin-right: 0 !important;
}

/* Ítems dentro de la grilla (= los .col-*) */
.cards-grid.row > [class^="col-"],
.cards-grid.row > [class*=" col-"] {
  width: auto !important;    /* quita width:100 % */
  flex: 0 0 auto !important; /* quita flex-basis   */
  padding: 0 !important;     /* usamos el gap del grid */
}

/* --------------------------------------------------------------------------
   3) Tarjetas base
   --------------------------------------------------------------------------*/
.cards-grid .card {
  border: 1px solid var(--step6-border);
  border-radius: var(--step6-radius);
  background: var(--step6-bg-card);
}

.card-header {
  font-weight: 600;
  text-align: center;
  color: var(--step6-accent);
  background: var(--bg-header);
}

.card.h-100 {
  display: flex;
  flex-direction: column;
}

/* --------------------------------------------------------------------------
   4) Imagen + tipografías herramienta
   --------------------------------------------------------------------------*/
.tool-image { display:block; margin:clamp(0.5rem,2vw,0.75rem) auto; max-height:7.5rem; object-fit:contain; }
.tool-name  { margin-top:0.5rem; font-size:clamp(1rem,1.2vw,1.1rem); font-weight:600; }
.tool-type  { font-size:clamp(0.9rem,1vw,1rem); color:var(--step6-text-sec); }

/* --------------------------------------------------------------------------
   5) Sliders
   --------------------------------------------------------------------------*/
.slider-wrap { position:relative; }
.slider-bubble{
  position:absolute; top:-1.6rem; left:calc(var(--val)*1%);
  transform:translateX(-50%);
  padding:0.1rem 0.35rem; border-radius:0.25rem; font-size:0.75rem;
  color:var(--bg-body); background:var(--step6-accent);
}

/* --------------------------------------------------------------------------
   6) Resultados y métricas
   --------------------------------------------------------------------------*/
.result-box      { flex:1; min-width:5rem; margin:0.3rem; padding:0.5rem;
                   border:1px solid var(--step6-border); border-radius:0.25rem; text-align:center; }
.param-label     { font-size:0.75rem; color:var(--step6-text-sec); }
.fw-bold         { color:var(--step6-accent); }

/* Radar chart (max ancho contenedor) */
#radarChart      { max-width:100%; }

/* --------------------------------------------------------------------------
   7) Especificaciones / Configuración / Notas
   --------------------------------------------------------------------------*/
.spec-list li span:first-child,
.label-static,
.notes-list li div,
.text-secondary       { color:var(--step6-text-sec) !important; }

.spec-list li span:last-child,
.value-static         { font-weight:600; color:var(--step6-accent); }

.config-section-title { font-weight:600; color:#fff; }

.notes-list li i      { color:var(--step6-accent); }

/* --------------------------------------------------------------------------
   8) Spinner de carga
   --------------------------------------------------------------------------*/
.spinner-overlay{
  position:absolute; inset:0; z-index:20; display:flex; align-items:center; justify-content:center;
  border-radius:var(--step6-radius); background:rgb(0 0 0 / 50%); visibility:hidden;
}
.loading .spinner-overlay,
.spinner-overlay.show { visibility:visible; }
.spinner-border{
  --spinner-size:3rem;
  width:var(--spinner-size); height:var(--spinner-size);
  border:0.25rem solid var(--step6-accent); border-right-color:transparent;
  border-radius:50%; animation:spin 0.8s linear infinite;
}
@keyframes spin{to{transform:rotate(360deg);}}

/* --------------------------------------------------------------------------
   9) Debug panel
   --------------------------------------------------------------------------*/
.debug-panel{
  position:fixed; left:0; right:0; bottom:0; z-index:9999; max-height:9.375rem;
  padding:0.5rem; overflow-y:auto; display:none;
  font-family:Consolas,monospace; font-size:0.85rem;
  color:var(--step6-accent); background:rgb(0 0 0 / 80%);
}
.debug-panel.show{display:block;}

/* --------------------------------------------------------------------------
   10) Helper DevTools (overflow visual)
   --------------------------------------------------------------------------*/
/*
// Resalta en rojo cualquier elemento con overflow horizontal
document.querySelectorAll('*').forEach(el=>{
  if(el.scrollWidth>el.clientWidth){el.style.outline='2px solid red';}
});
*/
