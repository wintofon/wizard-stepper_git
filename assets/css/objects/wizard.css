/*
 * File: assets/css/objects/wizard.css
 * Main responsibility: estilos globales del wizard multi-paso.
 * Nota: restaurado al código original y **sólo** se añadió un
 * bloque para evitar que el contenido quede oculto tras la barra
 * sticky del stepper.
 */

/* ════════════════════════════════════════════════════════════════
   ✨ HOT-FIX: padding automático bajo la barra sticky
   ----------------------------------------------------------------
   Cuando el <header.stepper-header> está pegado arriba, queremos que
   todo el contenido comience justo por debajo.  En vez de poner
   márgenes sueltos en cada paso, aplicamos el relleno global aquí.

   – body.has-stepper   → la clase se agrega desde wizard_layout.php
   – .wizard-body       → contenedor principal que inyecta load-step.php
   Ambos consumen la custom-property --stepper-h, definida en
   stepper.css.
*/
body.has-stepper,
.wizard-body {
  /* Se eliminó el padding superior para que el stepper quede pegado al borde */
  padding-top: 0;
  /* Si hay anchors (#id) en la página, que no queden tapados */
  scroll-margin-top: var(--stepper-h);
}

/* ----------------------------------------------------------------
   🔻 El resto del archivo queda tal como estaba (sin cambios) 🔻
----------------------------------------------------------------- */

/* 0) Tipografía Rajdhani ------------------------------------------------ */
@import url("https://fonts.googleapis.com/css2?family=Rajdhani:wght@500;700&display=swap");

/* 1) BASE ................................................................ */
html,
body {
  overflow-x: hidden !important; /* evita scroll lateral sorpresa */
  margin: 0;                     /* sin margen por defecto        */
  font-family: Rajdhani, sans-serif; /* familia tipográfica única */
  color: #dceefb;                /* texto celeste tenue           */
}

/* 2) CONTENEDOR STICKY .................................................. */
.stepper-container {
  scrollbar-width: none; /* oculta barra (Firefox) */
  position: sticky;
  z-index: 1000;
  top: 0;
  overflow-x: auto;
  width: 100%;
  background: transparent;
  box-shadow: 0 8px 16px rgb(0 0 0 / 55%), inset 0 -1px 0 #1b2537;
}
.stepper-container::-webkit-scrollbar { display: none; }
/* tapas triangulares */
.stepper-container::before,
.stepper-container::after {
  pointer-events: none;
  content: "";
  position: absolute;
  z-index: 5;
  top: 0;
  bottom: 0;
  width: 14px;
  background: #162235;
}
.stepper-container::before { left: 0; clip-path: polygon(0 0, 100% 0, 100% 100%); }
.stepper-container::after  { right: 0; clip-path: polygon(0 0, 100% 0, 0 100%); }

/* 3) LISTA UL – .stepper ............................................... */
.stepper {
  scroll-behavior: smooth;
  overflow-x: auto;
  display: flex;
  width: max-content;
  margin: 0 auto;
  padding: 0;
  list-style: none;
  background: transparent;
}
.stepper::-webkit-scrollbar { height: 6px; }
.stepper::-webkit-scrollbar-thumb { border-radius: 3px; background: #1b2537; }

/* 4) LOGO opcional – .logo-stepper ..................................... */
.logo-stepper {
  display: flex;
  align-items: center;
  padding: 0 1.25rem;
  font-weight: 500;
  background: #162235;
  clip-path: polygon(0 0, 100% 0, calc(100% - 12px) 100%, 12px 100%);
}
.logo-stepper img { height: 42px; max-height: 48px; object-fit: contain; }

/* 5) ITEMS LI (pasos) ................................................... */
.stepper li {
  position: relative;
  overflow: hidden;
  flex: 0 0 auto;
  margin-left: -12px;
  padding: .75rem 1.25rem;
  border-bottom: 2px solid transparent;
  font-size: 1rem;
  font-weight: 500;
  color: #d2d2d2;
  white-space: nowrap;
  background: #162235;
  clip-path: polygon(12px 0, 100% 0, calc(100% - 12px) 100%, 0 100%);
  transition: background .3s, color .3s;
}
.stepper li:first-child {
  margin-left: 0;
  clip-path: polygon(0 0, 100% 0, calc(100% - 12px) 100%, 12px 100%);
}
.stepper li:not(:last-child)::after {
  content: "";
  position: absolute;
  top: 12%;
  right: 0;
  bottom: 12%;
  width: 1px;
  background: rgb(255 255 255 / 15%);
}

/* 6) ESTADOS ............................................................ */
.stepper li.active,
.stepper li.done {
  border-bottom: 3px solid #00bfff;
  color: #fff;
  background: #1d3557;
}
.stepper li.active { text-shadow: 0 0 6px rgb(0 191 255 / 45%); }

/* 7) PROGRESO superior ................................................. */
.stepper li.active::before,
.stepper li.done::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 0;
  height: 4px;
  background: #00bfff;
  animation: fill-bar .45s forwards;
}
@keyframes fill-bar { from { width: 0; } to { width: 100%; } }

/* 8) ICONOS ............................................................. */
.stepper li .icon {
  width: 1em;
  height: 1em;
  margin-left: .35rem;
  vertical-align: middle;
  stroke-width: 2;
}

/* 9) RESPONSIVE ......................................................... */
@media (max-width: 1200px) {
  .stepper { scrollbar-width: none; overflow-x: hidden; display: block; width: 100%; }
  .stepper::-webkit-scrollbar { display: none; }
  .logo-stepper, .stepper li { display: none; }
  .stepper li.active { display: block !important; width: 100%; margin: 0; padding: 1rem; text-align: center; clip-path: none; }
  .stepper li.done { display: none !important; }
  .stepper-container { overflow-x: hidden; }
}

/* 10) ANIMACIONES ...................................................... */
@keyframes slideInX { 0% { transform: translateX(-14px); opacity: 0; } 100% { transform: translateX(0); opacity: 1; } }
@keyframes slideInY { 0% { transform: translateY(-10px); opacity: 0; } 100% { transform: translateY(0); opacity: 1; } }
@keyframes glowBar { 0% { box-shadow: 0 0 0 0 rgb(0 191 255 / 0%); } 60% { box-shadow: 0 0 8px 2px rgb(0 191 255 / 55%); } 100% { box-shadow: 0 0 0 0 rgb(0 191 255 / 0%); } }
.stepper li.active:not(.anim-done) { animation: slideInX .35s ease-out both, glowBar 1s .35s ease-out 1; animation-composition: add; }
@media (max-width: 1200px) { .stepper li.active:not(.anim-done) { animation: slideInY .35s ease-out both, glowBar 1s .35s ease-out 1; } }

/* 11) HOVER escritorio ................................................ */
@media (min-width: 1201px) {
  .stepper li:hover { transform: translateY(-2px); filter: brightness(1.1); transition: transform .2s ease, filter .2s ease; }
}

/* Utilidad: wrapper del botón reset ................................... */
.reset-wrap { padding: .5rem 1rem; text-align: right; }
