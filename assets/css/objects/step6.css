/* ============================================================================
 * File: assets/css/objects/step6.css  ·  Versión completa 2025-06-26
 * ---------------------------------------------------------------------------
 *  • Refactor del 25/06 + parche col-grid 26/06
 *  • Todas las tipografías “grisáceas” se aclaran (≈ #E5E7EB) para mayor
 *    contraste en dark-mode.
 *  • Incluye corrección Bootstrap-grid (anula width:100% de .col-12, etc.)
 *  • Mantiene comentarios originales y bloque quick-test.
 * ==========================================================================*/

/* --------------------------------------------------------------------------
   1) Variables específicas del Paso 6
   --------------------------------------------------------------------------*/
:root {
  /* colores base heredados del theme global */
  --step6-accent:            var(--accent-color);
  --step6-bg-card:           var(--bg-card);
  --step6-border:            var(--border-color);
  --step6-radius:            var(--border-radius-xxl);

  /* ⚡ parche contraste: texto secundario casi blanco */
  --step6-text-sec:          #e5e7eb;          /* antes: var(--text-color-sec) */
}

[data-theme='dark'] {
  --step6-accent:            #7fdcff;          /* celeste GitHub-light */
  --step6-bg-card:           #161b22;          /* gris muy oscuro      */
  --step6-border:            #2c2f33;          /* gris oscuro          */
  --step6-radius:            var(--border-radius-xxl);

  /* contraste dark-mode */
  --step6-text-sec:          #e5e7eb;
}

/* --------------------------------------------------------------------------
   2) Grilla principal
   --------------------------------------------------------------------------*/
.cards-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: clamp(0.75rem, 2vw, 1rem);
  align-items: flex-start;
}

/* Parche anti-Bootstrap (.col-) dentro de la grilla
   ──────────────────────────────────────────────────── */
.step6 .cards-grid > [class^="col-"],
.step6 .cards-grid > [class*=" col-"] {
  width: auto !important;        /* revierte width:100% de .col-12 */
  flex: 0 0 auto !important;     /* sin flex-basis forzado         */
  padding: 0 !important;         /* usamos gap del grid            */
}

/* --------------------------------------------------------------------------
   3) Tarjetas genéricas
   --------------------------------------------------------------------------*/
.cards-grid .card {
  border: 1px solid var(--step6-border);
  border-radius: var(--step6-radius);
  background: var(--step6-bg-card);
}

.card-header {
  font-weight: 600;
  text-align: center;
  color: var(--step6-accent);
  background: var(--bg-header);
}

.card.h-100 {
  display: flex;
  flex-direction: column;
}

/* --------------------------------------------------------------------------
   4) Ficha de la herramienta
   --------------------------------------------------------------------------*/
.tool-image {
  display: block;
  margin: clamp(0.5rem, 2vw, 0.75rem) auto;
  max-height: 7.5rem;
  object-fit: contain;
}

.tool-name {
  margin-top: 0.5rem;
  font-size: clamp(1rem, 1.2vw, 1.1rem);
  font-weight: 600;
}

/* ⚡ texto secundario aclarado */
.tool-type {
  font-size: clamp(0.9rem, 1vw, 1rem);
  color: var(--step6-text-sec);
}

/* --------------------------------------------------------------------------
   5) Lista de especificaciones
   --------------------------------------------------------------------------*/
.spec-list {
  margin: 0;
  padding-left: 0;
  list-style: disc inside;
}

.spec-list li {
  display: flex;
  justify-content: space-between;
  margin-bottom: 0.35rem;
}

.spec-list li span:first-child { color: var(--step6-text-sec); }
.spec-list li span:last-child  { font-weight: 600; color: var(--step6-accent); }

/* Imagen vectorial */
.vector-image {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
}

/* --------------------------------------------------------------------------
   6) Sliders + burbujas
   --------------------------------------------------------------------------*/
.slider-wrap { position: relative; }

.slider-bubble {
  position: absolute;
  top: -1.6rem;
  left: calc(var(--val) * 1%);
  transform: translateX(-50%);
  padding: 0.1rem 0.35rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
  color: var(--bg-body);
  background: var(--step6-accent);
}

@keyframes shake {
  0%,100% { transform: translateX(-50%) translateY(0); }
  50%     { transform: translateX(-50%) translateY(-2px); }
}

.slider-wrap input:active + .slider-bubble { animation: shake 0.3s; }

input.form-range:focus-visible::-webkit-slider-thumb {
  box-shadow: 0 0 0 0.1875rem rgb(79 195 247 / 40%);
}
input.form-range:focus-visible::-moz-range-thumb {
  box-shadow: 0 0 0 0.1875rem rgb(79 195 247 / 40%);
}

/* --------------------------------------------------------------------------
   7) Resultados rápidos
   --------------------------------------------------------------------------*/
.result-box {
  flex: 1;
  min-width: 5rem;
  margin: 0.3rem;
  padding: 0.5rem;
  border: 1px solid var(--step6-border);
  border-radius: 0.25rem;
  text-align: center;
}

.param-label   { font-size: 0.75rem; color: var(--step6-text-sec); }
.fw-bold       { color: var(--step6-accent); }

/* stylelint-disable-next-line selector-id-pattern */
#radarChart { max-width: 100%; }

/* --------------------------------------------------------------------------
   8) Tarjeta de configuración estática
   --------------------------------------------------------------------------*/
.config-card-static { padding: clamp(0.75rem, 2vw, 0.8rem); }

.config-section-title {
  margin-bottom: 0.25rem;
  font-weight: 600;
  color: #fff;                       /* título siempre blanco       */
}
.config-item      { display: flex; justify-content: space-between; margin: 0.25rem 0; }
.label-static     { color: var(--step6-text-sec); }
.value-static     { font-weight: 600; color: var(--step6-accent); }

.section-divider  { margin: 0.5rem 0; border-bottom: 1px solid rgb(255 255 255 / 10%); }

/* --------------------------------------------------------------------------
   9) Notas
   --------------------------------------------------------------------------*/
.notes-card      { padding: clamp(0.75rem, 2vw, 0.8rem); }

.notes-list      { margin: 0; padding: 0; list-style: none; }
.notes-list li   { display: flex; gap: 0.5rem; align-items: flex-start; padding: 0.25rem 0; }

.notes-list li i { margin-top: 0.2rem; font-size: 1rem; color: var(--step6-accent); }
.notes-list li div { font-size: 0.9rem; color: var(--step6-text-sec); }

/* helper Bootstrap */
.text-secondary  { color: var(--step6-text-sec) !important; }

/* --------------------------------------------------------------------------
   10) Spinner de carga
   --------------------------------------------------------------------------*/
.spinner-overlay {
  position: absolute;
  inset: 0;
  z-index: 20;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: var(--step6-radius);
  background: rgb(0 0 0 / 50%);
  visibility: hidden;
}

.loading .spinner-overlay,
.spinner-overlay.show { visibility: visible; }

.spinner-border {
  --spinner-size: 3rem;
  width: var(--spinner-size);
  height: var(--spinner-size);
  border: 0.25rem solid var(--step6-accent);
  border-right-color: transparent;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin { to { transform: rotate(360deg); } }

/* --------------------------------------------------------------------------
   11) Panel de debug
   --------------------------------------------------------------------------*/
.debug-panel {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 9999;
  max-height: 9.375rem;
  padding: 0.5rem;
  overflow-y: auto;
  display: none;
  font-family: Consolas, monospace;
  font-size: 0.85rem;
  color: var(--step6-accent);
  background: rgb(0 0 0 / 80%);
}

.debug-panel.show { display: block; }

/* --------------------------------------------------------------------------
   12) Breakpoints
   --------------------------------------------------------------------------*/
@media (width >= 48rem) { .cards-grid { grid-template-columns: repeat(2, 1fr); } }
@media (width >= 62rem) { .cards-grid { grid-template-columns: repeat(3, 1fr); } }

/* --------------------------------------------------------------------------
   13) Quick-test DevTools
   --------------------------------------------------------------------------*/
/*
// Resalta en rojo cualquier elemento con overflow horizontal
// (útil en DevTools)
document.querySelectorAll('*').forEach(el => {
  if (el.scrollWidth > el.clientWidth) el.style.outline = '2px solid red';
});
*/
